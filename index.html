<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/style.css">
  <title>Обучение React</title>
</head>
<body>
  <div class="wrapper">
    <div class="conteiner">
     <h1>Работа с React (пишу для себя)</h1>
     <div class="start-react">
      <h3>Создание React приложения :</h3>
      <ol>
        <li> Шаг 1: Установил Node.js https://nodejs.org/en/ </li>
        <li>Шаг 2: Создал ПУСТУ папку, где будут лежать (потом) все файлы, имя не должно начинаться с большой буквы</li>
        <li>Шаг 3: Запустил VSCode и открыл в нем папку которую создал.</li>
        <li>Создал терминал и в нем—</li>
        <li>Пункт а: npx — v // ответ должен быть версия npx , иначе он не установлен. нужно ставить Note.js</li>
        <li>Пункт б: npx create-react-app . // в конце точка обозначает что создавать нужно в этой папке, если в папке будут файлы
        VSC будет ругаться</li>
        <li>или для имени проекта: npx create-react-app project_name</li>
        <li>Пункт в : npm start //для запуска приложения</li>
        <li>Откроется страница с анимированным логотипом React</li>
        <li>Теперь нужно <span class="red">"почистить"<span class="get_Info get_Info_top">
          <img src="imj/indexHTML.png" alt="ups">
          <img src="imj/App.png" alt="ups">
          <img src="imj/indexJS.png" alt="ups">
        </span></span>  от ненужных файлов папку
          
        </li>
      </ol>
     </div>
     <div class="stec_texnologi">
      <div>
        <span class="red">import React from 'react'
          <span class="get_Info">Что бы Реакт работал  </span>
        </span> 
        <span class="green">Импортируем ядро реакта</span>
      </div>
      <div>
        <span class="red">React bootstrap
          <span class="get_Info">Что бы bootstrap в Реакте работал </span>
        </span>
        <span class="green"> отвечает за графику</span>
      </div>
      <div>
        <span class="red"> Axios
          <span class="get_Info">Что бы Axios работал </span>
        </span>
        <span class="green">запросы к серверу</span>
      </div>
      <div>
        <span class="red">import ReactDOM from 'react-dom/client';
          <span class="get_Info">Для того что бы вмонтировать компонент в реакт приложение  </span>
        </span>
        <span class="green">навигация</span>
      </div>
      <div>
        <span class="red">MobX
          <span class="get_Info">сейт менеджмент </span>
        </span>
        <span class="green">сейт менеджмент</span>
      </div>

     </div>
     <div> 
      <img src="imj/server.png" alt="нет">
     </div>
     <div class="server">
      <h2>Point для взамидействия с сервером </h2>
      <div>
        <span class="red">Get - htrp://..../api/users</span>
        <span class="green">получить пользователя, устройство</span>
      </div>
      <div>
        <span class="red">Post - htrp://..../api/users</span>
        <span class="green">добавить пользователя, устройство</span>
      </div>
      <div>
        <span class="red">Delete - htrp://..../api/users</span>
        <span class="green">удалить пользователя, устройство</span>
      </div>

     </div>
     <div class="hooks">
      <h2>Hooks</h2>
      <div>
        <span class="red">useState()
          <span class="get_Info">
              <h2>Управляемые компоненты -- значение = состояние</h2>
              <pre>
              import React, {useState} from "react";  // эта функция проверяет состояние
             
              function App() {
                 const [likes, setLikes] = useState(45);  //собрал фунцию и аргумент
               
                function Incerment() {
                  setLikes(likes + 1)                   //задействовал функцию изменив аргумент
                }
                function Decrement() {
                  setLikes(likes - 1)                    //задействовал функцию изменив аргумент
                }
                return (
                  < div className="App">
                     < h1> {likes} < />                  //выводим на страницу
                      < button onClick={Incerment}>Добавить< /button> //на событие вызвал фунуцию
                      < button onClick={Decrement}>Забрать< /button> //на событие вызвал фунуцию
                     
                  < /div>
                );
              }
              
              export default App;
                </pre>
          </span>
        </span>
        <span class="green">управление состоянием</span>
      </div>
      <div>
        <span class="red">useEffect()</span>
        <span class="green">...</span>
      </div>
      <div>
        <span class="red">useRef()
          <span class="get_Info">
           <h4>С его помощью можно получит доступ к DOM элементу и забрать к примеру "value", а не искать его через "document.querySelector"</h4>
           <img src="imj/useRef.png" alt="ups">
           <h4>Обернуть в функцию</h4>
           <img src="imj/ref.png" alt="ups">
           
          </span>
        </span>
        <span class="green">Доступ к DOM элементам</span>
      </div>
      <div>
        <span class="red">useMemo(callback, deps)</span>
        <span class="green">(функция обратного вызова, [массив зависимостей])</span>
      </div>
      <div>
        <span class="red">useCallback()</span>
        <span class="green">возврат от ребёнка к родителю</span>
      </div>
      <div>
        <span class="red">useContext()</span>
        <span class="green">...</span>
      </div>
      <h4>В Классовых компонентах Хуки не работают</h4>

     </div>
     <div class="component">
      <h2>Компоненты</h2>
      <h3>Принимают в себя от родителя "пропсы"</h3>
      <img class="props" src="imj/Props.png" alt="ups">
      <h3>Внимательно с кнопкой</h3>
      <img src="imj/Button-Props.png" alt="ups">
      <h3>Props в Input</h3>
      <img src="imj/Input-Props.png" alt="ups">

      <h2>Примеры решений</h2>
      <span class="red">Кнопка
        <span class="get_Info">
          <pre>
            import React, { useState } from "react";
            
            const MyButton = () => {
            const [likes, setLikes] = useState(0)
            
            function increment() {
            setLikes(likes + 1)
            }
            function decrement() {
            setLikes(likes - 1)
            }
            return (
            < div>
              < h1>{likes}< /h1>
              < button onClick={increment}>Добавить< /button>
              < button onClick={decrement}>Забрать< /button>
            < /div>
            );
            };
            
            export default MyButton;
          </pre>
        </span>
      </span>,
      <span class="red"> Инпут
        <span class="get_Info">
          <pre>

            <h2>Двухсторонее связывание</h2>
            import React, { useState } from 'react';
            
            const MyInput = () => {
            const [messeg, setMesseg] = useState('Текст в инпуте')
            return (
            < div>
              < h1>{messeg} < /h1>
                input type='text' value={messeg} onChange={ event => setMesseg(event.target.value)} />
            < /div>
            );
            };
            
            export default MyInput;
          </pre>
        </span>
      </span>,
      <span class="red"> Разбрал массив объектов 
        <span class="get_Info">
          <pre>
      
                  <h2>Разбрал массив объектов и передал их в "PROPS"</h2>
                    const [posts, setPosts] = useState ([
                    {id: 1, title: "Посты о JS 1", body: 'JS Язык програмирования'},
                    {id: 2, title: "Посты о JS 2", body: 'JS Язык програмирования'},
                    {id: 3, title: "Посты о JS 3", body: 'JS Язык програмирования'},
                    {id: 4, title: "Посты о JS 4", body: 'JS Язык програмирования'},
                    {id: 5, title: "Посты о JS 5", body: 'JS Язык програмирования'},
                    {id: 6, title: "Посты о JS 6", body: 'JS Язык програмирования'},
                    {id: 7, title: "Посты о JS 7", body: 'JS Язык програмирования'},
                    {id: 8, title: "Посты о JS 8", body: 'JS Язык програмирования'}
                    ])
                    
                    
                    return (
                    < div className="App">

                    < div> Список постов< /div> // Или передать сюда через "PROPS" изменяемый заголовок {title}
                      {posts.map(disassemble =>
                      < PostItem post={disassemble} key={disassemble.id} />
                      )}
                    < /div>
                    );
                </pre>
        </span>
      </span>
     </div>
     <h3>Внимательно !!!</h3>
        <span class="red"> < MyButton> Создать пост < /MyButton>
          <span class="get_Info">
            <pre>
              const MyButton = (props) => {
              return (
              <  div>
                < button className={classes.myBtn}>
                  {props.children} //React нужно указать где нужно вставить вложености
                < /button>
              <  /div>
              );
              };
                         
              </pre>
          </span>
        </span>--- Невидит вложеность
        <div>
          <span  class="red">Двухстороняя связаность Input and Button
          <span class="get_Info">
          <pre>
              const [input, setInput] = useState ('')
      
              const addNewPost = (e) => { //здесь буду укправлять содержимым инпута
              //form заставляет обновлятся при нажатии на кнопку
              e.preventDefault() //Запрещаю обновлятся при нажатии на кнопку
              
              }
                
              return (
              < div className="App">
                < form>
                  <'MyInput type="text" placeholder="Название поста" value={input} //присваиваю значение управляемого компонента
                    onChange={e=> setInput(e.target.value)}//переписываю значение управляемого компонента
                    />
                    < 'MyInput type="text" placeholder="описание поста" />
                    < MyButton onClick={addNewPost}>Создать пост< /MyButton>
                < /form>
              
              
              < /div>
              );
              }
          </pre>
          </span>
          </span>
        </div>    
        <div>
          <h2>Создание и добавление новых "ПОСТОВ"</h2>
          <span class="red">Посмотреть
            <span class="get_Info">    
             <pre>
              const [forInput, setForInput] = useState( {nameInput: '', messegInput: "" } )//для первого инпута, для второго инпута
              
              const addNewPost = (e) => {
              e.preventDefault() //чтобы не перезагружаля
              const newPost = { //Создал новый пост
              id: Date.now(), // время св мс.
              title: forInput.nameInput, //из первого инпута
              body: forInput.messegInput // из второго инпута
              };
              setPosts([...posts, newPost]) //в новый массив разворачиваем старый массив и потом добавляем новый пост
              setForInput({nameInput: '', messegInput: ""}); // обнуляю состояние строки после ввода
              
              };
              
              
              return (
              < div className="App">
                < form>
                  <'' MyInput //первый инпут
                     type="text"
                     placeholder="Название поста"
                     value={forInput.nameInput}
                     onChange={e=> setForInput({...forInput, nameInput: e.target.value} )}//функция изменяющая значение инпута
                    />
              
                    <'' MyInput //второй инпут
                       type="text"
                       placeholder="описание поста"
                       value={forInput.messegInput}
                       onChange={e=> setForInput({...forInput, messegInput: e.target.value} )}//функция изменяющая значение инпута
                      />
                      < MyButton onClick={addNewPost}>Создать пост< /MyButton>
                </form>
             </pre> 
           </span>
          </span>
        </div>
        <h2> CALLBACK</h2>
        <div class="callbak">  
          <img src="imj/Props_Callback.png" alt="ups">
          <span>
            <pre>
              import React from 'react';
              
              const PostForm = () => {
              const [forInput, setForInput] = useState({ nameInput: '', messegInput: "" })//для первого инпута, для второго инпута
              
              const addNewPost = (e) => {
              e.preventDefault() //чтобы не перезагружалcя
              const newPost = { // <span class="red"> Создал новый пост и его нужно передать в верх к родителю</span>
              id: Date.now(), // время св мс.
              title: forInput.nameInput, //из первого инпута
              body: forInput.messegInput // из второго инпута
              };
              // нет доступа к setPosts
              //setPosts([...posts, newPost]) //в новый массив разворачиваем старый массив и потом добавляем новый пост
              setForInput({ nameInput: '', messegInput: "" }); // обнуляю состояние строки после ввода
              
              };
              
              return (
              < div>
                < form>
                  < 'MyInput //первый инпут type="te....
            </pre>
          </span>

          <img src="imj/Callback-Post.png" alt="ups">
     
           <h3> Передаю из родителя в компонент функцию обратного вызова :</h3>
           <pre>
            const createPost =(newPost) => {<span class="green">//на вход буду ожидать новый пост</span>
            setPosts([...posts, newPost])<span class="green">//в новый массив разворачиваем старый массив и потом добавляем новый пост</span>
            }
         
            
            return (
            < div className="App">
            
            
              < PostForm create={createPost} /><span class="green"> {/* Передаю в компонент функцию обратного вызова */ }</span>
              < PoctList title="Посты про JS" gosts={posts} />
            < /div>
            );
            }
            
            export default App;
           </pre>
            
           <h3>Получил эту функцию через Props. Вызвал и в её параметры передал что нужно вернуть</h3>
           <pre>
            const PostForm = ({ create }) => { <span class="green">Получил эту функцию через Props</span>
            const [forInput, setForInput] = useState({ nameInput: '', messegInput: "" })//для первого инпута, для второго инпута
            
            const addNewPost = (e) => {
            e.preventDefault()
            const newPost = {
            id: Date.now(),
            title: forInput.nameInput,
            body: forInput.messegInput
            };
            create(newPost); <span class="green">Вызвал и в её параметры передал что нужно вернуть</span>
            setForInput({ nameInput: '', messegInput: "" });
            
            };
            
            return (
            < di...
           </pre>
          <h3>Callback на два уровня</h3>
          <img src="imj/Callback-Post.png" alt="ups">

        </div>



   </div>
  </div> 
</body>
</html>
